<div class="card">
  <div class="card-header text-white bg-info">
    S'enregistrer'
  </div>
  <div class="card-body">
    <form novalidate (ngSubmit)="saveData(form)" #form="ngForm">
      <div class="row">
        <div class="col-md-6 mb-3">
          <label for="">Nom</label>
          <input type="text" class="form-control" placeholder="Nom" [(ngModel)]="user.lastName" name="lastName" required
            minlength="4" #lastNameVar="ngModel" [ngClass]="{'is-invalid' : lastNameVar.touched && !lastNameVar.valid}">
          <div class="invalid-feedback">
            <span *ngIf="lastNameVar.errors?.required">
              Entrez votre nom
            </span>
            <span *ngIf="lastNameVar.errors?.minlength">
              Minimum 4 caractères
            </span>
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <label for="">Prénom</label>
          <input type="text" class="form-control" placeholder="Prénom" [(ngModel)]="user.firstName" name="firstName"
            required minlength="4" #firstNameVar="ngModel"
            [ngClass]="{'is-invalid' : firstNameVar.touched && !firstNameVar.valid}">
          <div class="invalid-feedback">
            <span *ngIf="firstNameVar.errors?.required">
              Entrez votre prénom
            </span>
            <span *ngIf="firstNameVar.errors?.minlength">
              Minimum 4 caractères
            </span>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6 mb-3">
          <label for="">Email</label>
          <input type="email" class="form-control" placeholder="Email" [(ngModel)]="user.email" name="email"
            #mailVar="ngModel" required email [ngClass]="{'is-invalid' : mailVar.touched && !mailVar.valid}">
          <div class="invalid-feedback">
            <span *ngIf="mailVar.errors?.required">
              Entrez votre email
            </span>
            <span *ngIf="mailVar.errors?.email">
              L'email n'est pas valide
            </span>
          </div>
        </div>
      </div>
      <div class="row mb-3">
        <div class="col-md-12">
          <div class="form-check mt-4 pt-3">
            <label for="sendCatalogId" class="form-check-label">
              Oui, je souhaite recevoir la publicité
              <input type="checkbox" class="form-check-input" name="sendCatalog" [(ngModel)]="user.sendCatalog">
            </label>
          </div>
        </div>
      </div>

      <div *ngIf="user.sendCatalog">

        <div class="row mb-3">
          <div class="col-md-12">
            <label for="">Adresse 1</label>
            <input type="text" class="form-control">
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-12">
            <label for="">Adresse 2</label>
            <input type="text" class="form-control">
          </div>
        </div>

        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="">Ville</label>
            <input type="text" class="form-control">
          </div>

          <div class="col-md-3 mb-3">
            <label for="">Département</label>
            <select class="form-control">
              <option value="">Sélectionnez un département</option>
              <option value="">Paris</option>
              <option value="">Essone</option>
              <option value="">Hauts de Seine</option>
              <option value="">Seine Saint Denis</option>
            </select>
          </div>
          <div class="col-md-3">
            <label for="">Code Postal</label>
            <input type="number" class="form-control">
          </div>
        </div>
      </div>

      <div class="text-end">
        <button class="btn btn-info" type="submit" [disabled]="!form.valid">
          Sauvegarder
        </button>
      </div>
    </form>
  </div>
</div>

<hr>

<p>Dirty : {{ form.dirty}}</p>
<p>Pristine : {{ form.pristine}}</p>
<p>Valid : {{ form.valid}}</p>
<p>Invalid : {{ form.invalid}}</p>
<pre>Value : {{ form.value | json}}</pre>
