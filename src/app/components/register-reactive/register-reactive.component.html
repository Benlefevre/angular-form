<div class="card">
  <div class="card-header text-white bg-info">
    S'enregistrer
  </div>
  <div class="card-body">
    <form (ngSubmit)="saveData()" [formGroup]="registerForm">

      <div class="row">
        <div class="col-md-6 mb-3">
          <label for="lastName">Nom</label>
          <input type="text" class="form-control" id="lastName" placeholder="Nom" formControlName="lastName"
            [ngClass]="{'is-invalid' : registerForm.get('lastName')?.touched && !registerForm.get('lastName')?.valid}">
          <div class="invalid-feedback">
            <span *ngIf="registerForm.get('lastName')?.errors?.required">
              Entrez votre nom
            </span>
            <span *ngIf="registerForm.get('lastName')?.errors?.minlength">
              Minimum 4 caractères
            </span>
          </div>
        </div>

        <div class="col-md-6 mb-3">
          <label for="firstName">Prénom</label>
          <input type="text" class="form-control" id="firstName" placeholder="Prénom" formControlName="firstName"
            [ngClass]="{'is-invalid': registerForm.get('firstName')?.touched && !registerForm.get('firstName')?.valid}">
          <div class="invalid-feedback">
            <span *ngIf="registerForm.get('firstName')?.errors?.required">
              Entrez votre prénom
            </span>
            <span *ngIf="registerForm.get('firstName')?.errors?.minlength">
              Minimum 4 caractères
            </span>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6 mb-3">
          <label for="email">Nom</label>
          <input type="text" class="form-control" id="email" placeholder="Email" formControlName="email"
            [ngClass]="{'is-invalid': registerForm.get('email')?.touched && !registerForm.get('email')?.valid}">
          <div class="invalid-feedback">
            <span *ngIf="registerForm.get('email')?.errors?.required">
              Entrez votre email
            </span>
            <span *ngIf="registerForm.get('email')?.errors?.email">
              L'email n'est pas valide
            </span>
          </div>
        </div>
      </div>

      <div class="row">
          <div class="col-md-6 mb-3">
            <label for="phoneId">Téléphone</label>
            <input type="tel" class="form-control" placeholder="Numéro de téléphone">
          </div>
          <div class="col-md-6 mb-3">
            <label for="">Recevoir les notifications</label>  
            <div class="col-md-8">
                <div class="form-check form-check-inline">
                    <label for="" class="form-check-label">
                        <input type="radio" class="form-check-input">
                        Email
                    </label>
                </div>
                <div class="form-check form-check-inline">
                    <label for="" class="form-check-label">
                        <input type="radio" class="form-check-input">
                        Texte
                    </label>
                </div>
            </div>
        </div>
      </div>
      <div class="row mb-3">
        <div class="col-md-12">
          <div class="form-check mt-4 pt-3">
            <label for="sendCatalogId" class="form-check-label">
              Oui, je souhaite recevoir la publicité
              <input type="checkbox" class="form-check-input" formControlName="sendCatalog">
            </label>
          </div>
        </div>
      </div>

      <!-- <div *ngIf="user.sendCatalog">

        <div class="row mb-3">
          <div class="col-md-12">
            <label for="">Adresse 1</label>
            <input type="text" class="form-control">
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-12">
            <label for="">Adresse 2</label>
            <input type="text" class="form-control">
          </div>
        </div>

        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="">Ville</label>
            <input type="text" class="form-control">
          </div>

          <div class="col-md-3 mb-3">
            <label for="">Département</label>
            <select class="form-control">
              <option value="">Sélectionnez un département</option>
              <option value="">Paris</option>
              <option value="">Essone</option>
              <option value="">Hauts de Seine</option>
              <option value="">Seine Saint Denis</option>
            </select>
          </div>
          <div class="col-md-3">
            <label for="">Code Postal</label>
            <input type="number" class="form-control">
          </div>
        </div>
      </div> -->

      <div class="text-end">
        <button class="btn btn-outline-info me-2" type="button" (click)="fillFormData()">
          Remplir les champs par défaut
        </button>
        <button class="btn btn-info" type="submit" [disabled]="!registerForm.valid">
          Sauvegarder
        </button>
      </div>

    </form>
  </div>
</div>

<p>Dirty : {{ registerForm.dirty}}</p>
<p>Pristine : {{ registerForm.pristine}}</p>
<p>Valid : {{ registerForm.valid}}</p>
<p>Invalid : {{ registerForm.invalid}}</p>
<pre>Value : {{ registerForm.value | json}}</pre>
